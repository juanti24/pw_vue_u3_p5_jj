<template>
  <h2>Consultar Estudiante por ID</h2>
  <input type="text" name="" id="" v-model="id" />
  <button @click="consultarPorId">Consultar Estudiante</button>

  <div class="container">
    <div class="form-post">
      <p type="Nombre:">
            <input type="text" name="" id="idnombre" v-model="nombre" />
          </p>
          <p type="Apellido:">
            <input type="text" name="" id="idapellido" v-model="apellido" />
          </p>
          <p type="Genero:">
            <input type="text" name="" id="idgenero" v-model="genero" />
          </p>
          <p type="Fecha Nacimiento:">
            <input
              type="datetime-local"
              name=""
              id="idfechanacimiento"
              v-model="fechaNacimiento"
            />
          </p>
          <p type="CÃ©dula:">
            <input type="text" name="" id="idcedula" v-model="cedula" />
          </p>
          <p type="Quintil:">
            <input
              type="text"
              name=""
              id="idquintil"
              v-model="rangoEconomico"
            />
          </p>
          <p type="Facultad:">
            <input type="text" name="" id="idfacultad" v-model="facultad" />
          </p>
          <p type="Carrera:">
            <input type="text" name="" id="idcarrera" v-model="carrera" />
          </p>
          <p type="Gratuidad:">
            <input type="text" name="" id="idgratuidad" v-model="gratuidad" />
          </p>
    </div>
  </div>
</template>

<script>
import { consultarPorIdFachada } from "../helpers/clienteEstudiante.js"

export default {
  data() {
    return {
      id: null,
      nombre: null,
      apellido: null,
      genero: null,
      fechaNacimiento: null,
      cedula: null,
      rangoEconomico: null,
      facultad: null,
      carrera: null,
      gratuidad: null,
    };
  },
  created(){
    console.log(this.$route);
    console.log(this.$route.params.id);
    console.log(this.$route.query)
    console.log(this.$route.query.anio)
    console.log(this.$route.query.edad)

  },

  methods: {
   async consultarPorId() {
      const data = await consultarPorIdFachada(this.id);
      this.nombre = data.nombre;
      this.apellido = data.apellido;
      this.genero = data.genero;
      this.cedula = data.cedula;
      this.fechaNacimiento = data.fechaNacimiento;
      this.rangoEconomico = data.rangoEconomico;
      this.facultad = data.facultad;
      this.carrera = data.carrera;
      this.gratuidad = data.gratuidad;
      console.log("desde componente:");
      console.log(data);
    },
  },
};
</script>
<style>
</style>